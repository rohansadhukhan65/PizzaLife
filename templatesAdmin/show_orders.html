<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <!-- Fontawsome css -->
 <!--  <link rel="stylesheet" href="/static/fontawsome/css/all.css"> -->
  <!--load all styles -->
   <link rel="stylesheet" href="/static/fontawsome/css/brands.css">
  <link rel="stylesheet" href="/static/fontawsome/css/fontawsome.css">
  <link rel="stylesheet" href="/static/fontawsome/css/regular.css">
  <link rel="stylesheet" href="/static/fontawsome/css/solid.css">
  <link rel="stylesheet" href="/static/fontawsome/css/svg-with-js.css">
  <link rel="stylesheet" href="/static/fontawsome/css/v4-shims.css">  

  <!-- javascript fontawsome -->
 <!--  <script defer src="all.js"></script> -->
  <!--load all styles -->
  <script defer src="/static/fontawsome/js/fontawesome.js"></script>
  <script defer src="/static/fontawsome/js/brands.js"></script>
  <script defer src="/static/fontawsome/js/solid.js"></script>
  <script defer src="/static/fontawsome/js/conflict-detection.js"></script>
  <script defer src="/static/fontawsome/js/regular.js"></script>
  <script defer src="/static/fontawsome/js/v4-shims.js"></script>  


  <title> Pizza Life </title>
  <!-- add icon link -->
  <link rel="icon" href="/static/images/Logo.png" type="image/x-icon">


  <style>
    div.sticky {
      position: -webkit-sticky;
      position: sticky;
      top: 200px;
      padding: 50px;
      font-size: 20px;
    }
</style>
</head>

<body class="bg-warning" style="background-color: #F50057;!important">









  <nav class="navbar navbar-expand-lg navbar-warning bg-warning shadow sticky-top">

    <div>

      <a class="navbar-brand  text-dark text-center  text-center" href="/" style="font-size: 30px; float: left;"><img
          src="/static/images/Logo.png" width="60" height="60" alt="" loading="fast">PizzaLife</a>

    </div>


    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="text-dark"><svg width="2em" height="2em" viewbox="0 0 16 16" class="bi bi-text-right"
          fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" />
        </svg></span>
    </button>





    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav  text-dark   ml-auto mr-auto">
        <li class="nav-item text-center pr-lg-5 mr-lg-5 pl-lg-5 ml-lg-5">
          <div class="mr-lg-5 pr-lg-5 ml-lg-5 pl-lg-5 text-center">
            <h5 class="pr-lg-5 mr-lg-5 pl-lg-5   font-weiight-light text-center text-success">Welcome to Pizza Life Admin <i
                class="far fa-user"></i></h5>
          </div>
        </li>
        <li class="nav-item text-center  ">
          <a class="nav-link text-dark  " href="/admin_home"><button class="btn btn-dark"> Back</button></a>
        </li>
        <li class="nav-item text-center  ">
          <a class="nav-link text-dark  " href="/admin_Logout"><button class="btn btn-dark"> Log Out</button></a>
        </li>
        
        
      </ul>
    </div>
  </nav>

  <!-- End of Nav -->


         



  <!-- Start Of Body-->

<div class="container-fluid text-center ">
    <div class="  mt-3">
        <h2 class="my-3">All Orders</h2>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
    <!--start of .table-responsive-->
      <div>


          <table class="table">


            <thead class="thead-light shadow">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Order ID</th>
                <th scope="col">User Details</th>
                <th scope="col">Orderd Items</th>
                <th scope="col">Total Bill</th>
                <th scope="col">Order Status</th>
                <th scope="col">Cancel</th>
              </tr>
            </thead>


            <tbody class="mt-5 pt-5">
              {%for i in orders%}
              <tr class="mt-5">
                <th scope="row">{{forloop.counter}}</th>
                <td>{{ i.order_ids}}</td>
                <td  data-toggle="modal" data-target="#exampleModalCenter{{forloop.counter}}" > <a href="javascript:void(0);">{{i.users}}</a></td>
                <td>{{i.items_json}}</td>
                <td> Rs {{i.total}}  </td>
                <td>
                   {%if i.Taken%}
                   <a href=""> <button class="btn " onclick="Confirmed_Ordr('{{i.id}}')" style=" background-color: orangered;">Confirmed</button> </a>
                   {%endif%}

                   {%if i.Confirmed%}
                  <a href=""> <button onclick="Cooked_order('{{i.id}}')" class="btn btn-info shadow">Cooked</button> </a>
                    {%endif%}

                   
                   {%if i.Cooked%}
                   <a href="">  <button onclick="Delivered_ordr('{{i.id}}')" class="btn btn-primary shadow">Delivered</button> </a>
                   {%endif%}
                   
                   {%if i.Delivered%}
                   <a href="">  <button onclick="Recived_ordr('{{i.id}}')" class="btn btn-success shadow">Recived</button> </a>
                   {%endif%}

                   {%if i.Recived%}
                  <h1 style="font-size: 50px;" > <i class="fas fa-check-double text-success h1" ></i> </h1>
                   {%endif%}

                  </td>
                <td> <a href=""> <button onclick="Cancel_ordr('{{i.id}}')" class="btn btn-danger">Cancel</button> </a>    </td>
              </tr>
               

                <!-- Modal -->
                <div class="modal   " id="exampleModalCenter{{forloop.counter}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content bg-warning">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">{{i.users}}</h5>
                       
                      </div>
                      <div class="modal-body text-left">
                       <span class="font-weight-bold">User Name :</span>  {{i.users}} <br>
                       <span class="font-weight-bold">Address :</span>  {{i.address}}<br>
                       <span class="font-weight-bold">City :</span>  {{i.city}} <br>
                      <span class="font-weight-bold"> State :</span> {{i.state}} <br>
                     <span class="font-weight-bold"> Zip :</span>   {{i.zip_code}} <br>
                        <!-- {{i.zip_code}} <br> -->
                      <span class="font-weight-bold"> Phone No :</span> {{i.phone_No}} <br>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                       
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor %}
              
            </tbody>


          </table>


      </div>
      <!--end of .table-responsive-->
    </div>
  </div>
</div>
   
</div>
</div>
      <!-- End Body -->
    
 



      <!-- Optional JavaScript; choose one of the two! -->

      <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

     <!--  Option 2: jQuery, Popper.js, and Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
        crossorigin="anonymous"></script>
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

         <!-- =============== ajax cdn =============== -->
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

 <script>


   function Confirmed_Ordr(prodidC){
     $.ajax({
        type: 'POST',
        data: {'Oid': prodidC,},
        url: '/Confirmed_Ordr/',
        success: function (response) { }
      });
   }


   function Cooked_order(prodidCo){
          $.ajax({
        type: 'POST',
        data: {'Oid': prodidCo,},
        url: '/Cooked_order/',
        success: function (response) { }
      });
   }


   function Delivered_ordr(prodidD){
          $.ajax({
        type: 'POST',
        data: {'Oid': prodidD,},
        url: '/Delivered_ordr/',
        success: function (response) { }
      });
   }


   function Recived_ordr(prodidR){
          $.ajax({
        type: 'POST',
        data: {'Oid': prodidR,},
        url: '/Recived_ordr/',
        success: function (response) { }
      });
   }

   
   function Cancel_ordr(prodidcancel){
          $.ajax({
        type: 'POST',
        data: {'Oid': prodidcancel,},
        url: '/Cancel_ordr/',
        success: function (response) { }
      });
   }


 </script>
</body>

</html>